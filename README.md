# SauceDemo Test Automation Framework (Bot Pattern + POM)

A **maintainable, scalable, and extensible web automation framework** built using **Selenium WebDriver**, **TestNG**,
and **Allure Reporting**.  
It implements the **Bot Design Pattern**, **Page Object Model (POM)**, and integrates **logging** and detailed *
*reporting**.

---

## 🚀 Overview

This framework automates end-to-end test flows for the **SauceDemo** web application.  
It focuses on **clean separation of concerns**, **readable reports**, and **reusable components** that can be scaled for
larger projects.

---

## 🧩 Key Features

- ✅ **Selenium WebDriver 4.x** — modern browser automation
- ✅ **TestNG** — organized test structure and parallel execution
- ✅ **Allure Reporting** — detailed visual test reports with screenshots
- ✅ **Bot Design Pattern** — encapsulates WebDriver logic in `WebDriverBot`
- ✅ **Page Object Model (POM)** — readable, maintainable page actions
- ✅ **Log4j2** — structured logging for each test step
- ✅ **Environment Configuration** — flexible via `config.properties`
- ✅ **Cross-Browser Ready** — Chrome, Edge, and Firefox support

---

## 🧠 Project Structure

```
SauceWebAppDemo/
├── pom.xml                                  # Maven build configuration (dependencies, plugins, lifecycle)
├── README.md                                # Project documentation
├── logs/                                    # Execution logs generated by Log4j2
├── allure-results/                          # Raw Allure report files (auto-generated after test runs)
├── allure-report/                           # Compiled Allure HTML reports (generated via allure:serve)
│
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   ├── engine/                      # ⚙️ Core framework engine
│   │   │   │   ├── WebDriverBot.java        # WebDriver wrapper with waits, clicks, typing, screenshots
│   │   │   │   └── PropertiesReader.java    # Reads test configuration (browser, URLs, etc.)
│   │   │   │
│   │   │   └── pages/web/                   # 🧩 Page Object Model layer
│   │   │       ├── LoginPage.java           # Handles login actions and verifications
│   │   │       ├── ProductsPage.java        # Product listing and sort/filter interactions
│   │   │       ├── CartPage.java            # Add/remove product actions and cart checks
│   │   │       ├── CheckoutInfoPage.java    # Step 1: User info form (First name, Last name, ZIP)
│   │   │       ├── CheckoutOverviewPage.java# Step 2: Order summary and finish flow
│   │   │       └── CheckoutCompletePage.java# Step 3: Order success and confirmation page
│   │   │
│   │   └── resources/
│   │       └── log4j2.json                 # Logging configuration (info, debug, error)
│   │
│   └── test/
│       ├── java/
│       │   └── e2e/                         # 🧪 End-to-End automated test scenarios
│       │       ├── BaseTest.java            # Common setup, teardown, and Allure screenshot hook
│       │       ├── SuccessfulPurchaseWithSortingTest.java  # Scenario S1: Happy path purchase
│       │       ├── RemoveAndCancelCheckoutFlowTest.java    # Scenario S2: Remove + cancel checkout
│       │       └── CheckoutWithEmptyCartTest.java          # Scenario S3: Empty cart + logout
│       │
│       └── resources/
│           ├── config.properties            # Test environment configuration (URL, browser, credentials)
│           └── testng.xml                   # TestNG suite configuration
│
└── target/                                 # Compiled code, test outputs
    ├── classes/
    └── test-classes/
```

---

## ⚙️ Prerequisites

Before running the tests, make sure you have:

1. **Java 21 JDK**
   ```bash
   java -version
   ```
2. **Maven 3.9+**
   ```bash
   mvn -version
   ```
3. **Google Chrome, Edge, or Firefox** installed  
   (Drivers are auto-managed by Selenium)

---

## 🧰 Configuration

Edit `src/main/resources/config.properties` to control runtime behavior:

```properties
base.url=https://www.saucedemo.com
username=standard_user
password=secret_sauce
browser=chrome
headless=false
incognito=false
page.load.timeout.sec=30
```

Override any property using JVM system properties:

```bash
  mvn test -Dbrowser=firefox -Dheadless=true
```

---

## 🧪 Running Tests

### Run all test scenarios

```bash
  mvn clean test
```

### Run a specific test class

```bash
  mvn test -Dtest=SuccessfulPurchaseWithSortingTest
```

### Example Scenarios

| Scenario | Description                           |
|----------|---------------------------------------|
| **S1**   | Full Happy Purchase flow with sorting |
| **S2**   | Remove + Cancel checkout flow         |
| **S3**   | Checkout attempt with empty cart      |

---

## 📸 Allure Reporting

### Generate and View Report (Recommended)

```bash
  mvn allure:serve
```

> This automatically builds and opens the report in your browser.  
> (Report is generated from `target/allure-results`.)

### Generate Report Only

```bash
  mvn allure:report
```

### Screenshots on Test Outcomes

Every test automatically captures screenshots **on pass, fail, or skip** and attaches them to the Allure report via:

```java

@AfterMethod(alwaysRun = true)
public void attachScreenshotToAllure(ITestResult result)
```

---

## 🧱 Core Design Principles

### 1. **Bot Pattern**

Encapsulates WebDriver logic (click, type, waits, etc.) inside `WebDriverBot`:

```java
bot.click(locator).

type("text",inputField).

waitForVisibility(element);
```

### 2. **Page Object Model**

Each page (e.g., `LoginPage`, `ProductsPage`, `CartPage`) exposes clean, reusable actions:

```java
new LoginPage(bot)
    .

navigateTo(cfg.baseUrl)
    .

login(cfg.username, cfg.password)
    .

getPageTitle();
```

### 3. **Logging & Reporting**

- Log4j2 for detailed runtime logs
- Allure annotations for readable step names
- Automatic screenshot attachment on every test outcome

---

## 🧠 Example: Quick Test Flow

```java

@Test(description = "Successful purchase flow")
public void verifyPurchaseFlow() {
    new LoginPage(bot)
            .navigateTo(cfg.baseUrl)
            .login(cfg.username, cfg.password)
            .addProduct("Sauce Labs Backpack")
            .openCart()
            .startCheckout()
            .fillInfo("John", "Doe", "12345")
            .continueToOverview()
            .finishOrder()
            .isOrderComplete();
}
```

---

## 🧪 Test Execution Tips

- Run tests locally first before CI/CD integration
- For headless or remote execution:
  ```bash
  mvn test -Dheadless=true
  ```
- Logs are stored in `/logs` that configured in `log4j2.json`

---

## 🧾 Reporting Summary

| Component   | Tool                       |
|-------------|----------------------------|
| Test Runner | **TestNG**                 |
| Reporting   | **Allure 2.29.0**          |
| Logging     | **Log4j2 2.25.1**          |
| Automation  | **Selenium WebDriver 4.x** |
| Build       | **Maven**                  |
| Language    | **Java 21**                |

---

## 🧩 Future Enhancements

- [ ] Integrate parallel test execution
- [ ] Add JSON-driven data provider for user credentials
- [ ] CI/CD pipeline integration (GitHub Actions or Jenkins)
- [ ] Extend coverage for mobile (Appium)
- [ ] Add API testing layer (RestAssured)

---
